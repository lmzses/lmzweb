---
import MainLayout from "../layouts/main.astro";
import Footer from "../components/footer.astro";
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

const posts = await getCollection("blog");

posts.sort((a, b) => {
  return (
    new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime()
  );
});
---

<MainLayout title="Moi Portfolio " description="Frontend Developer Portfolio">
  <!-- Main Content -->
  <main class="py-20 sm:py-32">
    <!-- Enhanced Hero Section -->
    <section class="relative">
      <div class="space-y-8 max-w-4xl">
        <div class="space-y-4">
          <div class="space-y-6">
            <h1
              class="text-5xl sm:text-6xl md:text-7xl font-semibold text-white leading-tight tracking-tight"
            >
              Hey, I am Moi ðŸ‘‹
            </h1>
            <p
              class="text-neutral-400 text-lg sm:text-xl max-w-2xl leading-relaxed"
            >
              With 7+ years of experience building modern web applications.
              Focused on creating performant and user-centric solutions.
            </p>
          </div>

          <!-- Enhanced Social Links -->
          <div class="flex items-center gap-6 pt-4">
            <a
              href="https://github.com/lmzses"
              class="group flex items-center gap-2 text-neutral-400 hover:text-white transition-colors"
              target="_blank"
              rel="noopener noreferrer"
            >
              <svg
                class="h-5 w-5"
                fill="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  fill-rule="evenodd"
                  d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
                  clip-rule="evenodd"></path>
              </svg>
              <span class="text-sm font-medium">GitHub</span>
            </a>

            <a
              href="https://x.com/moimojk"
              class="group flex items-center gap-2 text-neutral-400 hover:text-white transition-colors"
              target="_blank"
              rel="noopener noreferrer"
            >
              <svg
                class="h-5 w-5"
                fill="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
                ></path>
              </svg>
              <span class="text-sm font-medium">X/Twitter</span>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Enhanced Projects Section -->
    <section class="py-32">
      <div class="flex items-center justify-between mb-12">
        <h2 class="text-white text-2xl">Featured Projects</h2>
        <a
          href="/projects"
          class="text-neutral-400 hover:text-white transition-colors text-sm"
        >
          View all projects â†’
        </a>
      </div>

      <div class="grid grid-cols-1 gap-8">
        {
          [
            {
              title: "X Card",
              description: "Generate a beatiful card for your X Profile.",
              tech: ["SvelteKit", "TailwindCSS", "Shadcn/UI"],
              year: "2024",
              image: "/images/projects/x-card-shot.png",
              link: "https://x-card.vercel.app/",
            },
            // ... other projects
          ].map((project) => (
            <div class="group relative bg-neutral-900 rounded-xl overflow-hidden hover:bg-neutral-800 transition-all duration-300">
              <div class="grid md:grid-cols-2 gap-6 p-6">
                {project.image && (
                  <div class="relative aspect-video rounded-lg overflow-hidden">
                    <Image
                      height={400}
                      width={600}
                      src={project.image}
                      alt={project.title}
                      class="object-cover w-full h-full transform group-hover:scale-105 transition-transform duration-300"
                    />
                  </div>
                )}
                <div class="space-y-4 flex flex-col justify-center">
                  <h3 class="text-white text-2xl font-medium">
                    {project.title}
                  </h3>
                  <p class="text-neutral-400 leading-relaxed">
                    {project.description}
                  </p>
                  <div class="flex flex-wrap gap-2">
                    {project.tech.map((t) => (
                      <span class="px-3 py-1 bg-neutral-800 text-neutral-400 rounded-full text-sm">
                        {t}
                      </span>
                    ))}
                  </div>
                  <a
                    href={project.link}
                    class="inline-flex items-center gap-2 text-white mt-4 hover:text-neutral-400 transition-colors"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    View Project
                    <svg
                      class="w-4 h-4"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M7 17L17 7M17 7H7M17 7V17"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </section>

    <!-- New Blog Section -->
    <section class="py-16 border-t border-neutral-800">
      <div class="flex items-center justify-between mb-8">
        <h2 class="text-white text-2xl">Recent Posts</h2>
        <a
          href="/blog"
          class="text-neutral-400 hover:text-white transition-colors"
        >
          View all posts â†’
        </a>
      </div>
      <div class="grid gap-8">
        {
          posts.slice(0, 3).map((post) => (
            <a href={`/blog/${post.slug}`} class="group flex flex-col gap-2">
              <h3 class="text-white group-hover:text-neutral-400 transition-colors">
                {post.data.title}
              </h3>
              <div class="flex gap-3 text-sm text-neutral-500">
                <span>
                  {post.data.pubDate.toLocaleDateString("en-US", {
                    month: "long",
                    day: "numeric",
                    year: "numeric",
                  })}
                </span>
                <span>Â·</span>
                <span>{post.data.readTime}</span>
              </div>
            </a>
          ))
        }
      </div>
    </section>
  </main>
</MainLayout>
